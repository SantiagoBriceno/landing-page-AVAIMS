<div class="flex notices-admin-container">
  <div class="form">
    <h1>Formulario</h1>
    <form [formGroup]="noticeForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="title">Título</label>
        <input type="text" id="title" formControlName="title">
        @if (noticeForm.get('title')?.invalid && (noticeForm.get('title')?.dirty || noticeForm.get('title')?.touched)){
        <div class="error-message">
          Título es requerido.
        </div>
        }
      </div>
      <div class="form-group">
        <label for="description">Descripción</label>
        <textarea id="description" formControlName="description"></textarea>
        @if (
        noticeForm.get('description')?.invalid && (noticeForm.get('description')?.dirty ||
        noticeForm.get('description')?.touched)
        ) {
        <div class="error-message">
          Descripción es requerida.
        </div>
        }
      </div>
      <div class="form-group">
        <label for="date">Fecha</label>
        <input type="date" id="date" formControlName="date">
        @if (
        noticeForm.get('date')?.invalid && (noticeForm.get('date')?.dirty || noticeForm.get('date')?.touched)
        ) {
        <div class="error-message">
          Fecha es requerida.
        </div>
        }
      </div>

      <div class="form-group">
        <label for="url">Enlace de la noticia</label>
        <input required type="text" id="url" formControlName="url">
      </div>

      <div class="form-group">
        <label for="img">Imagen</label>
        <input required type="file" id="img" (change)="onFileChange($event)" accept="image/*">
        @if (noticeForm.get('img')?.invalid && (noticeForm.get('img')?.dirty || noticeForm.get('img')?.touched)) {
        <div class="error-message">
          Imagen es requerida.
        </div>
        }
      </div>
      <div class="form-controller">
        <button class="my-button" type="submit" [disabled]="noticeForm.invalid">Crear</button>
      </div>
    </form>
  </div>
  <div class="new-notices-container">
    <h1>Previsualización</h1>
    <div class="cards-contenedor flex grouper">
      <my-card [notice]="noticePreview" [selectedImage]="selectedImage"></my-card>
      <my-card></my-card>
    </div>

  </div>
</div>

<app-toast></app-toast>